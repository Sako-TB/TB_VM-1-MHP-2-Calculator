<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!doctype html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;Cryoprotectant Calculator&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta name="theme-color" content="#111111" /&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;!-- Optional PWA manifest (keep if you also have manifest.webmanifest + sw.js) --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;link rel="manifest" href="./manifest.webmanifest" /&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>body { margin: 24px; max-width: 860px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>h1 { margin: 0 0 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.muted { color:#666; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card { border: 1px solid #ddd; border-radius: 12px; padding: 16px; margin: 14px 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>label { display:block; font-weight: 650; margin: 10px 0 6px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>input { width: 100%; padding: 10px 12px; font-size: 16px; border-radius: 10px; border: 1px solid #ccc; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.toolbar { display:flex; gap:10px; flex-wrap: wrap; align-items: center; margin-top: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button { padding: 10px 14px; border-radius: 10px; border: 1px solid #ccc; background: #f6f6f6; cursor: pointer; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button:hover { background: #efefef; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.error { color:#b00020; font-weight: 650; margin-top: 10px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>table { width: 100%; border-collapse: collapse; margin-top: 8px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>th, td { text-align: left; padding: 10px 8px; border-bottom: 1px solid #eee; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>th { font-size: 12px; text-transform: uppercase; letter-spacing: .06em; color: #555; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media print {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.no-print { display:none !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>body { margin: 0; max-width: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.card { border: none; border-radius: 0; padding: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>table { font-size: 12pt; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;h1&gt;Cryoprotectant Calculator&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="muted"&gt;Inputs: Strength (% w/v) and Amount (L). Outputs: grams. Includes total weight. Printable &amp; shareable link.&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="card no-print"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="row"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;label for="strength"&gt;Strength (% w/v)&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;input id="strength" type="number" inputmode="decimal" min="0" max="100" step="0.1" placeholder="e.g. 30" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;label for="amount"&gt;Amount (L)&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;input id="amount" type="number" inputmode="decimal" min="0" step="0.1" placeholder="e.g. 21" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="toolbar"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;button id="printBtn" type="button"&gt;Print&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;button id="copyLinkBtn" type="button"&gt;Copy share link&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;span id="status" class="muted"&gt;&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="err" class="error"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="card"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="summary" class="muted"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;table aria-label="Ingredient list"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;thead&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;th&gt;Ingredient&lt;/th&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;th&gt;Grams&lt;/th&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/thead&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;tbody id="tbody"&gt;&lt;/tbody&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;tfoot&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;td style="font-weight:700;"&gt;Total weight&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>&lt;td id="total" style="font-weight:700;"&gt;&lt;/td&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/tr&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/tfoot&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/table&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// --- Optional: Service worker registration (offline + installability) ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// If you don't have sw.js, you can remove this block safely.</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>if ("serviceWorker" in navigator) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>window.addEventListener("load", () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>navigator.serviceWorker.register("./sw.js").catch(() =&gt; {});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const $ = (id) =&gt; document.getElementById(id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const strengthEl = $("strength");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const amountEl = $("amount");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const tbody = $("tbody");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const totalEl = $("total");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const errEl = $("err");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const summaryEl = $("summary");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const statusEl = $("status");</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function round2(x) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>return Math.round((x + Number.EPSILON) * 100) / 100;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function fmt(x) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>return round2(x).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function parseInputs() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const strength = Number(strengthEl.value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const amount = Number(amountEl.value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (!Number.isFinite(strength) || !Number.isFinite(amount)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return { ok: false, err: "Enter strength and amount." };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (strength &lt; 0 || strength &gt; 100) return { ok: false, err: "Strength must be between 0 and 100." };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (amount &lt;= 0) return { ok: false, err: "Amount must be greater than 0." };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>return { ok: true, strength, amount };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// =========================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// Latest equations (as provided)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// Strength = % w/v</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// Amount<span class="Apple-converted-space">  </span>= liters</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// Output<span class="Apple-converted-space">  </span>= grams</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// =========================</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function compute(strength, amount) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const s = Number(strength);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const a = Number(amount);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// Given formulas:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const DMSO = a * s * 10 * 0.5019;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const EG <span class="Apple-converted-space">  </span>= 0.4981 * s * 10 * a;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// NOTE: Keeping glucose/tris/kcl from earlier spec:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// glucose = amount * [96.59 + (strength/5)] * 1.15 * 0.3245</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// tris<span class="Apple-converted-space">    </span>= amount * [96.59 + (strength/5)] * 1.15 * 0.0096</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// kcl <span class="Apple-converted-space">    </span>= amount * [96.59 + (strength/5)] * 1.15 * 0.0166</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const base = (96.59 + (s / 5)) * 1.15;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const Glucose = a * base * 0.3245;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const Tris<span class="Apple-converted-space">    </span>= a * base * 0.0096;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const KCL <span class="Apple-converted-space">    </span>= a * base * 0.0166;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// UPDATED: HCl</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const HCL = (4.94299325 * a) + (0.010235 * a * s);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>// UPDATED: H2O</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const H2O = (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>(-0.304365 * s / 5) +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>(-(452505733 / 50000000) * s) +</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>(4853006923 / 5000000)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>) * a;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const items = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["DMSO", DMSO],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["EG", EG],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["H2O", H2O],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["Glucose", Glucose],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["Tris", Tris],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["KCl", KCL],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>["HCl", HCL],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const total = items.reduce((sum, [, v]) =&gt; sum + v, 0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>return { items, total };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function updateUrl(strength, amount) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const url = new URL(window.location.href);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (strength == null || amount == null) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>url.searchParams.delete("s");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>url.searchParams.delete("a");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>url.searchParams.set("s", String(strength));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>url.searchParams.set("a", String(amount));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>history.replaceState(null, "", url.toString());</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function loadFromUrl() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const url = new URL(window.location.href);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const s = url.searchParams.get("s");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const a = url.searchParams.get("a");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (s !== null) strengthEl.value = s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (a !== null) amountEl.value = a;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function render() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>errEl.textContent = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>tbody.innerHTML = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>totalEl.textContent = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>summaryEl.textContent = "";</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const p = parseInputs();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (!p.ok) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>errEl.textContent = p.err;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>updateUrl(null, null);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const { items, total } = compute(p.strength, p.amount);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>summaryEl.textContent = `Strength: ${p.strength}% w/v • Amount: ${p.amount} L`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>for (const [name, grams] of items) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const tr = document.createElement("tr");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tr.innerHTML = `&lt;td&gt;${name}&lt;/td&gt;&lt;td&gt;${fmt(grams)}&lt;/td&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>tbody.appendChild(tr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>totalEl.textContent = fmt(total);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>updateUrl(p.strength, p.amount);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>strengthEl.addEventListener("input", render);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>amountEl.addEventListener("input", render);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$("printBtn").addEventListener("click", () =&gt; window.print());</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$("copyLinkBtn").addEventListener("click", async () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>await navigator.clipboard.writeText(window.location.href);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>statusEl.textContent = "Link copied.";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>setTimeout(() =&gt; statusEl.textContent = "", 1500);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>} catch {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>statusEl.textContent = "Copy blocked by browser.";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>setTimeout(() =&gt; statusEl.textContent = "", 2000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>loadFromUrl();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>render();</span></p>
<p class="p1"><span class="s1">&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
